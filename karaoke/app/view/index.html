<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Karaôke</title>
		<!-- Description, Keywords and Author -->
		<meta name="description" content="Your description">
		<meta name="keywords" content="Your,Keywords">
		<meta name="author" content="HimanshuGupta">
		
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<!-- Styles -->
		<!-- Bootstrap CSS -->
		<link href="../app/css/bootstrap.min.css" rel="stylesheet">	
		<!-- Animate CSS -->
		<link href="../app/css/animate.min.css" rel="stylesheet">
		<!-- Basic stylesheet -->
		<link rel="stylesheet" href="../app/css/owl.carousel.css">
		<!-- Font awesome CSS -->
		<link href="../app/css/font-awesome.min.css" rel="stylesheet">		
		<!-- Custom CSS -->
		<link href="../app/css/style.css" rel="stylesheet">
		<link href="../app/css/style-color.css" rel="stylesheet">
		
		<!-- Favicon -->
		<link rel="shortcut icon" href="../app/img/logo/favicon.ico">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


		<style>
			@import url("https://fonts.googleapis.com/css?family=DM+Sans:400,500,700&display=swap");

			input[type=radio] {
				display: none;
			}
			.cardCarousel {
				position: absolute;
				width: 60%;
				height: 100%;
				left: 0;
				right: 0;
				margin: auto;
				transition: transform .4s ease;
				cursor: pointer;
				opacity: 0;
			}
			.containerCarousel {
				width: 100%;
				max-width: 800px;
				max-height: 600px;
				height: 100%;
				transform-style: preserve-3d;
				display: flex;
				justify-content: center;
				flex-direction: column;
				align-items: center;
			}
			.cardsCarousel {
				position: relative;
				width: 100%;
				height: 200px;
				margin-bottom: 20px;
			}
			.cardsCarousel img {
				box-shadow: 0px 0px 5px 0px rgba(81, 81, 81, 0.47);
				width: 100%;
				height: 100%;
				border-radius: 10px;
				object-fit: cover;
			}
			.player {
				background-color: #fff;
				border-radius: 8px;
				min-width: 500px;
				padding: 16px 10px;
			}
			.upper-part {
				position: relative;
				display: flex;
				align-items: center;
				margin-bottom: 12px;
				height: 36px;
				overflow: hidden;
			}
			.play-icon { 
				margin-right: 10px; 
			}
			.song-info {
			width: calc(100% - 32px);
			display: block;
			}
			.song-info .title {
				color: #403d40;
				font-size: 14px;
				line-height: 24px;
			}
			.sub-line {
				display: flex;
				justify-content: space-between;
				width: 100%;
			}
			.subtitle, .time {
				font-size: 12px;
				line-height: 16px;
				color: #c6c5c6;
			}
			.time {
				font-size: 12px;
				line-height: 16px;
				color: #a5a5a5;
				font-weight: 500;
				margin-left: auto;
			}
			.progress-bar {
				height: 3px;
				width: 100%;
				background-color: #e9efff;
				border-radius: 2px;
				overflow: hidden;
			}
			.progress {
				display: block;
				position: relative;
				width: 60%;
				height: 100%;
				background-color: #2992dc;
				border-radius: 6px;
			}
			.info-area {
				width: 100%;
				position: absolute;
				top: 0;
				left: 30px;
				transition: transform .4s ease-in;
			}
		</style>
	</head>
	
	<body>
		
		<!-- modal for booking ticket form -->
		<div class="modal fade" id="bookTicket" tabindex="-1" role="dialog" aria-labelledby="BookTicket">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title" id="myModalLabel">Name of The Event &nbsp; <small><span class="label label-success">Available</span> &nbsp; <span class="label label-danger">Not Available</span></small></h4>
					</div>
					<!-- form for events ticket booking -->
					<form>
						<div class="modal-body">
							<div class="form-group">
								<label for="exampleInputEmail1">Email</label>
								<input type="email" class="form-control" id="exampleInputEmail1" placeholder="example@mail.com">
							</div>
							<div class="form-group">
								<label for="exampleInputContact">Contact</label>
								<input type="text" class="form-control" id="exampleInputContact" placeholder="+91 55 5555 5555">
							</div>
							<div class="form-group">
								<label for="exampleInputSeats">Number of Tickets</label>
								<select class="form-control" id="exampleInputSeats">
									<option>1</option>
									<option>2</option>
									<option>3</option>
									<option>4</option>
									<option>5</option>
								</select>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox"> I accept the Terms of Service
								</label>
							</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
							<!-- link to payment gatway here -->
							<button type="button" class="btn btn-primary">Book Now</button>
						</div>
					</form>
				</div>
			</div>
		</div>
		
		<!-- wrapper -->
		<div class="wrapper" id="home">		
			<!-- header area -->
			<header>
				<!-- primary menu -->
				<nav class="navbar navbar-fixed-top navbar-default">
					<div class="container">
						<!-- Brand and toggle get grouped for better mobile display -->
						<div class="navbar-header">
							<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
								<span class="sr-only">Toggle navigation</span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
							</button>
							<!-- logo area -->
							<a class="navbar-brand" href="#home">
								<!-- logo image -->
								<!-- <img class="img-responsive" src="../app/img/logo/logo.jpg" alt="" style="border-radius: 80px; width: 50%;"/> -->
								<i class="bi bi-music-note-list" style="font-size: 40px;"> CARA<strong style="color: red;">Ô</strong>QUE<strong style="color: red;">?</strong></i>
							</a>
						</div>

						<!-- Collect the nav links, forms, and other content for toggling -->
						<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
							<ul class="nav navbar-nav navbar-right">
								<li><a href="#latestalbum">Playlist</a></li>
								<li><a href="#featuredalbum">Featured Album</a></li>
								<li><a href="#joinus">Join Us</a></li>
								<li><a href="#portfolio">Portfolio</a></li>
								<li><a href="#events">Events</a></li>
								<li><a href="#team">Team</a></li>
								<li><a href="#contact">Contact</a></li>
							</ul>
						</div><!-- /.navbar-collapse -->
					</div><!-- /.container-fluid -->
				</nav>
			</header>
			<!--/ header end -->
			
			<!-- banner area -->
			<div class="banner">
				<div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
					<!-- Wrapper for slides -->
					<div class="carousel-inner" role="listbox">
						<div class="item active">
							<img src="../app/img/banner/b2.jpg" alt="...">
							<div class="container">
								<!-- banner caption -->
								<div class="carousel-caption slide-two">
									<!-- heading -->
									<h2 class="animated fadeInLeftBig"><i class="fa fa-headphones"></i> SEJA BEM VINDO</h2>
									<!-- paragraph -->
									<h3 class="animated fadeInRightBig">Esse é o &ensp; <i class="bi bi-music-note-list logo" style="font-size: 40px;"> CARA<strong class="destaque_logo">Ô</strong>QUE<strong class="destaque_logo">?</strong></i> &ensp; da alegria.</h3>
								</div>
							</div>
						</div>
						<div class="item">
							<img src="../app/img/banner/b1.jpg" alt="...">
							<div class="container">
								<!-- banner caption -->
								<div class="carousel-caption slide-one">
									<!-- heading -->
									<h2 class="animated fadeInLeftBig"><i class="fa fa-music"></i>Música e diversão</h2>
									<!-- paragraph -->
									<h3 class="animated fadeInRightBig">Solte a sua voz &amp; divirta-se no karaokê!</h3>
								</div>
							</div>
						</div>						
					</div>

					<!-- Controls -->
					<a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
						<span class="fa fa-arrow-left" aria-hidden="true"></span>
					</a>
					<a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
						<span class="fa fa-arrow-right" aria-hidden="true"></span>
					</a>
				</div>
			</div>
			<!--/ banner end -->
			
			<!-- block for animate navigation menu -->
			<div class="nav-animate"></div>
			
			<!-- Hero block area -->
			<div id="latestalbum" class="hero pad">
				<div class="container">
					<!-- hero content -->
					<form id="searchForm">
						<label class="searchQuery" for="searchQuery">Pesquise uma música:</label>
						<div class="search-youtube">
							<input type="text" id="searchQuery" name="searchQuery" required autocomplete="off">
							<button type="submit"><i class="fa fa-search" style="font-size: 26px; color: red"></i></button>							
						</div>
					</form>		

					<!-- hero play list -->
					<div class="hero-playlist">
						<div class="row">
							<div class="col-md-6 col-sm-6">
								<!-- play list -->
								<div id="searchResults" class="playlist-content">
									<ul class="list-unstyled">
										<li class="playlist-number">
											<!-- song information -->
											<div class="song-info">
												<!-- song title -->
												<h4>Melodi Song Track One</h4>
												<p><strong>Album</strong>: Title &nbsp;|&nbsp; <strong>Type</strong>: Rock &nbsp;|&nbsp; <strong>Singer</strong>: Dawn</p>
											</div>
											<!-- music icon -->
											<div class="music-icon">
												<a href="#"><i class="fa fa-play"></i></a>
												<a href="#"><i class="fa fa-pause"></i></a>
											</div>
											<div class="clearfix"></div>
										</li>										
									</ul>
								</div>
							</div>
							<div class="col-md-6 col-sm-6">
								<!-- music album image -->
								<div class="figure">
									<div id="videoPlayer"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!--/ hero end -->
			
			<!-- promo -->
			<div class="promo parallax-one pad">
				<div class="container">
					<!-- promo element -->
					<div class="promo-element ">
						<iframe width="560" height="315" src="https://www.youtube.com/embed/lazCGSkz9kw" frameborder="0" allowfullscreen></iframe>
					</div>
				</div>
			</div>
			<!--/ promo end -->
		</div>
		
		<!-- Javascript files -->
		<!-- jQuery -->
		<script src="../app/js/jquery.js"></script>
		<!-- Bootstrap JS -->
		<script src="../app/js/bootstrap.min.js"></script>
		<!-- WayPoints JS -->
		<script src="../app/js/waypoints.min.js"></script>
		<!-- Include js plugin -->
		<script src="../app/js/owl.carousel.min.js"></script>
		<!-- One Page Nav -->
		<script src="../app/js/jquery.nav.js"></script>
		<!-- Respond JS for IE8 -->
		<script src="../app/js/respond.min.js"></script>
		<!-- HTML5 Support for IE -->
		<script src="../app/js/html5shiv.js"></script>
		<!-- Custom JS -->
		<script src="../app/js/custom.js"></script>
		<!-- JQUERY -->
		<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

		<script>
			// Função para reproduzir o vídeo
			function playVideo(videoId, title) {
				const videoPlayer = $('#videoPlayer');
				videoPlayer.html(`
					<iframe width="560" height="315" src="https://www.youtube.com/embed/${videoId}" allowfullscreen></iframe>
					<div class="album-details">
						<h4>${title}</h4>
					</div>
				`);
			}

			$(document).ready(function() {
				$('#searchForm').submit(function(event) {
					event.preventDefault(); // Impede o envio padrão do formulário

					const searchQuery = $('#searchQuery').val();

					// Use AJAX, Fetch, ou outra técnica para enviar os dados ao servidor
					$.ajax({
						url: '/search-youtube',
						method: 'POST',
						contentType: 'application/json',
						data: JSON.stringify({ searchQuery }),
						success: function(data) {
							// Exiba os resultados da pesquisa na div 'searchResults'
							const searchResultsDiv = $('#searchResults');
							searchResultsDiv.empty(); // Limpa resultados anteriores

							// Cria uma lista de opções ou cartões para os resultados
							if (data.length > 0) {
								const resultList = $('<div class="row">');
								var inputResult = '';
								var imgResult = '';
								var titleResult = '';
								const cssResult = $('<style>');
								var contador = 1;
								var checked = 'checked';
								var cssPx = 0;

								// Itera sobre os resultados e cria um item de lista para cada um
								$.each(data, function(index, result) {
									// Adiciona informações sobre o resultado (pode personalizar isso conforme necessário)
									const thumbnail = result.snippet.thumbnails.default.url;
									const title = result.snippet.title;
									const videoId = result.id.videoId;
									const category = result.snippet.category;


									const inputItem = `<input type="radio" name="slider" id="item-${contador}" ${checked}>`;
									checked = '';
									
									
									const imgItem = `
										<label class="cardCarousel" for="item-${contador}" id="song-${contador}">
											<img src="${thumbnail}" alt="${title}">
										</label>`;
										
										
									const titleItem = `
										<label class="song-info" id="song-info-${contador}">
											<div class="title">${title}</div>
											<div class="sub-line">
												<div class="subtitle">Cantor</div>
												<div class="time">4.05</div>
											</div>
										</label>`;


									const cssItem = `
										#item-${contador}:checked ~ .player #test {
											transform: translateY(${cssPx}px);
										}
										#item-${contador}:checked ~ .cardsCarousel #song-${contador} {
											transform: translatex(0) scale(1);
											opacity: 1;
											z-index: 1;
										}`;

									cssPx-= 40;
									contador++;
									
									cssResult.append(cssItem);
									inputResult+= inputItem;
									imgResult+= imgItem;
									titleResult+= titleItem;
								});

								searchResultsDiv.append(`
									<div class="containerCarousel">

										<div class="cardsCarousel">

										</div>
										<div class="player">
											<div class="upper-part">
												<div class="play-icon">
													<svg width="20" height="20" fill="#2992dc" stroke="#2992dc" stroke-linecap="round"
														stroke-linejoin="round" stroke-width="2" class="feather feather-play" viewBox="0 0 24 24">
														<defs />
														<path d="M5 3l14 9-14 9V3z" />
													</svg>
												</div>
												<div class="info-area" id="test">
													
												</div>
											</div>
											<div class="progress-bar">
												<span class="progress"></span>
											</div>
										</div>
									</div>`);

								contador--;
								var cssItem = '';
								for (let i = 1; i <= contador; i++) {
									if (i != contador) {
										cssItem = `
											#item-${i}:checked ~ .cardsCarousel #song-${i + 1} {
												transform: translatex(40%) scale(.8);
												opacity: .4;
												z-index: 0;
											}`;
									} else {
										cssItem = `
											#item-${i}:checked ~ .cardsCarousel #song-1 {
												transform: translatex(40%) scale(.8);
												opacity: .4;
												z-index: 0;
											}`;
									}
									cssResult.append(cssItem);
								}

								for (let i = 1; i <= contador; i++) {
									if (i == 1) {
										cssItem = `
											#item-1:checked ~ .cardsCarousel #song-${contador} {
												transform: translatex(-40%) scale(.8);
												opacity: .4;
												z-index: 0;
											}`;
									} else {
										cssItem = `
											#item-${i}:checked ~ .cardsCarousel #song-${i - 1} {
												transform: translatex(-40%) scale(.8);
												opacity: .4;
												z-index: 0;
											}`;
									}
									cssResult.append(cssItem);
								}
									
								$('.containerCarousel').prepend(inputResult);
								$('.cardsCarousel').append(imgResult);
								$('.info-area').append(titleResult);
								$('.containerCarousel').prepend(cssResult);
							} else {
								searchResultsDiv.text('Nenhum vídeo encontrado.');
							}
						},
						error: function(error) {
							console.error('Erro ao enviar requisição:', error);
						}
					});
				});
				});
		</script>			
	</body>	
</html>
